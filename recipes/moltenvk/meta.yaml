{% set name = "MoltenVK" %}
{% set version = "1.0.38" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  git_url: https://github.com/KhronosGroup/MoltenVK
  git_tag: eaf30d4aee361cee75fc68df6e851b996df1339d
  patches:
    - 0001-Add-some-autogenerated-CMakeLists.patch
    - 0002-Skip-building-ExternalDependencies.xcodeproj-when-SK.patch

build:
  number: 0

requirements:
  build:
    - {{ compiler('cxx') }}
    - python =3
    - cmake
    - ninja

test:
  # Some packages might need a `test/commands` key to check CLI.
  # List all the packages/modules that `run_test.py` imports.
  imports:
    - simplejson
    - simplejson.tests

about:
  home: https://github.com/KhronosGroup/MoltenVK
  # Remember to specify the license variants for BSD, Apache, GPL, and LGPL.
  # Prefer the short version, e.g: GPL-2.0 instead of GNU General Public License version 2.0
  # See https://opensource.org/licenses/alphabetical
  license: Apache-2.0
  license_family: Apache
  license_file: LICENSE
  summary: 'Simple, fast, extensible JSON encoder/decoder for Python'

  # The remaining entries in this section are optional, but recommended.
  description: |
    MoltenVK is an implementation of the high-performance, industry-standard
    Vulkan graphics and compute API, that runs on Apple's Metal graphics
    framework, bringing Vulkan to iOS and macOS
  doc_url: https://github.com/KhronosGroup/MoltenVK/blob/master/README.md
  dev_url: https://github.com/KhronosGroup/MoltenVK

extra:
  recipe-maintainers:
    - mingwandroid
